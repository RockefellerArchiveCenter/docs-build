// -----------------------------------------------------------------------------
// This file contains custom styles to supplement the RAC Style Library styles.
// -----------------------------------------------------------------------------

/**
Breakpoints map
**/
$break-md: 580px;
$break-lg: 1024px;

@mixin md-up {
  @media screen and (min-width: $break-md) { @content; }
}

@mixin lg-up {
  @media screen and (min-width: $break-lg) { @content; }
}

/**
Use font-size percentage to adjust font-size based on screen size (use with rem units)
**/
html {
  scroll-behavior: smooth;
}

body {
  position: relative;
  height: 100%;
  font-size: inherit;
}

/**
Layout classes
**/

.container {
  margin: 0 30px;
  max-width: 1440px;
}

.layout--default {
  grid-column: 1 / span 12;

  @include lg-up() {
    grid-column: 2 / span 10;
  }
}

/**
Layout for documentation page based on rockarch.org styles
**/

.docs-page__content,
.docs-page__title {
  grid-column: 1 / span 12;
  padding-left: 0;
  margin-left: 0;

  @include lg-up {
    grid-column: 3 / span 7;
    padding-left: 35px;
  }
}

.docs-page__title-container {
  min-height: 168px;
  background: #c5d1dd; //water-blue
  margin-bottom: 80px;
}

.docs-page__title {
  margin-top: 1.2em;
}

.docs-page__sidebar {
  grid-column: 1 / span 12;
  margin-bottom: 10px;

  @include lg-up {
    grid-column: 1 / span 2;
  }
}

/**
Remove header nav link icon on small screens
**/
.nav__link .material-icon {
  display: none;

  @include lg-up() {
    display: inline-block;
  }
}

/**
Homepage table styles
**/
.table {
  margin-bottom: 10px;
}

.table-responsive {
  overflow-x: auto;
}

.table caption {
  text-align: left;
}

.btn--table-sort {
  padding: 0;
  border: none;

  @include lg-up() {
    margin-left: 10px;
  }
}

.badge {
  width: fit-content;
  width: -moz-fit-content //for Firefox
}

/**
Hide date table column on small screens for homepage docs table
**/
#date, #date-col {
  display: none;

  @include lg-up() {
    display: block;
  }
}

/**
Table of contents styles
TODO: assess which of these styles should be added to the RAC Style Library and add them.
1. Hide the table of contents on small screens to replace with the #toc-nav-toggle button.
2. Make table of contents scrollable independently from the docs contents.
3. Decrease default line height for links in toc.
4. Adjust margins and padding to enable active styles for toc links.
5. Decrease title font size (this should be added to Style Library)
6. Adjust the default focus styles so that they don't conflict with the active styles.
7. Add active styles to currently active toc heading links.
8. Add skip link on large screens
**/
.toc {
  display: none; /* 1 */

  @include md-up() {
    max-width: 40%;
  }

  @include lg-up { /* 2 */
    display: block;
    height: 90vh;
    overflow-y: auto;
    max-width: 100%;
  }
}

.toc a {
  line-height: 1.3; /* 3 */
}

.toc__title { /* 4 */
  margin-bottom: 0;
  padding: 10px 25px;
  font-size: 18px; /* 5 */
}

.toc__link-item { /* 4 */
  margin: 0;
  padding: 10px 25px 10px 40px;
}

.toc :focus { /* 6 */
  outline: none;
  text-decoration: underline;
}

.toc .active { /* 7 */
  outline: none;

  @include lg-up() {
    background-color: #9f3c0f; //rust-red
    color: #f6f6f4; //desert-grey

  }
}

/**
* Layout styles for the toc-nav-toggle button
*/
#toc-nav-toggle {
  margin-top: -52px;

  @include lg-up {
    display: none;
  }
}

/**
Add dotted border to h2 in documentation. Using custom styles instead of RAC style
library heading--dotted-border class because the h2 comes from the documentation
markdown, not markup in this repo.
TODO: Update style library margin styles and use those instead
**/
#documentation h2 {
  border-bottom: 1.5px dotted #192d48; //regal-blue

  @include lg-up {
    &:not(:first-child) {
      margin-top: 80px;
    }
  }
}

/**
In docs, links that are inside headings should be the same font size as the heading.
TODO: add to RAC Style Library
**/
#documentation h2 a,
#documentation h3 a,
#documentation h4 a,
#documentation h5 a,
#documentation h6 a {
  font-size: inherit;
}

/**
Improve/create typography styles with relative font size
TODO: Update style library styles and use those styles instead
**/
ol {
  line-height: 23px;

  @include lg-up {
    font-size: 17px;
    line-height: 24px;
  }
}

h4 {
  font-size: 1.20rem;
  margin-bottom: 10px;
  margin-top: 30px;
}

h5 {
  color: #662700; //maroon-brown
  font-size: 1.17rem;
  margin-bottom: 10px;
  margin-top: 20px;
}

h6 {
  color: #9f3c0f; //rust-red
  font-size: 1.15rem;
  margin-bottom: 10px;
  margin-top: 20px;
}

/**
Text that is visually highlighted as an example.
**/
.docs-example {
  background: #f6f6f4; //desert-grey
  padding: 15px;
  font-family: Courier, monospace;
  margin: 10px 0;

  & p:last-of-type {
    margin-bottom: 0;
  }
}

.docs-example > h6 {
  margin-top: 0;
}

/**
Add margin to superscript footnote.
**/
.footnote {
  margin: 0 5px;
}

/**
Radio Group styles
**/
.category__container {
  border: 1px;
  border-style: solid;
  border-color: #c5d1dd; //water-blue
  background-color: #ebeff4; //solitude-blue
  padding: 32px 26px;
}

.category__radio-group {
  display: block;
  @include lg-up {
    display: flex;
    flex-wrap: wrap;
  }
}

fieldset legend { //Use RAC style library h2 font size
  font-size: 21px;
  text-transform: none;

  @include lg-up {
    font-size: 28px;
  }

}

label {
  font-size: 16px;
  margin-right: 15px;
  line-height: 32px;
}

input {
  appearance: none;
  width: 24px;
  height: 24px;
  border: 1px solid #192d48; //regal-blue
  border-radius: 50%;
  margin-right: 5px;
  background-color: #fff;
  position: relative;
  top: 6px;
}

input:checked {
  border: 8px solid #192d48; //regal-blue
}